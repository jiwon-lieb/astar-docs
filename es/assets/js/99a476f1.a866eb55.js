"use strict";(self.webpackChunkdocs_1=self.webpackChunkdocs_1||[]).push([[6523],{67601:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>c,default:()=>f,frontMatter:()=>l,metadata:()=>d,toc:()=>u});var r=n(85893),s=n(11151),o=n(74866),i=n(85162),a=n(3837);const l={sidebar_position:4,title:"Verifying Smart Contracts",sidebar_label:"Verify Contracts"},c=void 0,d={id:"build/zkEVM/smart-contracts/verify-smart-contract",title:"Verifying Smart Contracts",description:"Once a smart contract is deployed to zKatana testnet, it can be verified in various ways depending on the framework of deployment as well as the complexity of the contract. The aim here is to use examples to illustrate how you can manually verify a deployed smart contract.",source:"@site/docs/build/zkEVM/smart-contracts/verify-smart-contract.md",sourceDirName:"build/zkEVM/smart-contracts",slug:"/build/zkEVM/smart-contracts/verify-smart-contract",permalink:"/es/docs/build/zkEVM/smart-contracts/verify-smart-contract",draft:!1,unlisted:!1,editUrl:"https://github.com/AstarNetwork/astar-docs/tree/main/docs/build/zkEVM/smart-contracts/verify-smart-contract.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"Verifying Smart Contracts",sidebar_label:"Verify Contracts"},sidebar:"tutorialSidebar",previous:{title:"Deploy Using Hardhat",permalink:"/es/docs/build/zkEVM/smart-contracts/using-hardhat"},next:{title:"thirdweb",permalink:"/es/docs/build/zkEVM/smart-contracts/thirdweb"}},h={},u=[{value:"Manual Verification",id:"manual-verification",level:2},{value:"Solidity, Flattened Source Code",id:"solidity-flattened-source-code",level:3},{value:"Solidity, Standard JSON Input",id:"solidity-standard-json-input",level:3}];function p(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components},{Details:l}=t;return l||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"Once a smart contract is deployed to zKatana testnet, it can be verified in various ways depending on the framework of deployment as well as the complexity of the contract. The aim here is to use examples to illustrate how you can manually verify a deployed smart contract."}),"\n",(0,r.jsxs)(t.p,{children:["Ensure that your wallet is connected while following this guide. We will use Metamask wallet throughout this tutorial.\nFor detailed explanation on how to verify smart contracts, please refer to the ",(0,r.jsx)(t.a,{href:"https://docs.blockscout.com/for-developers/verify-contracts",children:"Blockscout documentation"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"manual-verification",children:"Manual Verification"}),"\n",(0,r.jsx)(t.p,{children:"After successfully compiling a smart contract, follow the next steps to verify your smart contract."}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Copy the ",(0,r.jsx)(t.strong,{children:"Address"})," to which the smart contract is deployed."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Navigate to the ",(0,r.jsx)(t.a,{href:"/es/docs/build/zkEVM/quickstart",children:"block Explorer"})," and paste the contract address into the Search box. This opens a window with a box labelled ",(0,r.jsx)(t.strong,{children:"Contract Details"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Scroll down to the box with tabs labelled - ",(0,r.jsx)(t.strong,{children:"Transactions"}),", ",(0,r.jsx)(t.strong,{children:"Token transfers"})," ",(0,r.jsx)(t.strong,{children:"Internal txns"}),", ",(0,r.jsx)(t.strong,{children:"Coin Balance History"}),", and ",(0,r.jsx)(t.strong,{children:"Contract"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Select the ",(0,r.jsx)(t.strong,{children:"Contract"})," tab and click the ",(0,r.jsx)(t.strong,{children:"Verify and Publish"})," button."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"There are 3 options to provide the Contract's code. We will be diving into the following two options:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Solidity, Flattened Source Code"}),"\n",(0,r.jsx)(t.li,{children:"Solidity, Standard Input JSON"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"solidity-flattened-source-code",children:"Solidity, Flattened Source Code"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Click ",(0,r.jsx)(t.strong,{children:"Next"})," after selecting the ",(0,r.jsx)(t.strong,{children:"via Flattened Source Code"})," option."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["In order to update the ",(0,r.jsx)(t.strong,{children:"Compiler"})," based on your contract's compiler version,"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Click the \u2193 for a list of compiler versions."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Select the corresponding version. For example, select ",(0,r.jsx)(t.code,{children:"v0.8.9+commit.e5eed63a"})," if your code has ",(0,r.jsx)(t.code,{children:"pragma solidity ^0.8.9;"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Select the Optimization option based on your contract's optimization settings."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Various frameworks have specific ways to flatten the source code. Our examples are ",(0,r.jsx)(t.strong,{children:"Hardhat"}),", ",(0,r.jsx)(t.strong,{children:"Remix"})," and ",(0,r.jsx)(t.strong,{children:"Foundry"}),". If you are using one file contract and it has no imports, you do not need to flatten the file."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(o.Z,{children:[(0,r.jsxs)(i.Z,{value:"hardhat",label:"Hardhat",default:!0,children:[(0,r.jsx)(t.p,{children:"In order to flatten the contract code with Hardhat, one needs to only run the following command:"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"npx hardhat flatten\n"})}),(0,r.jsxs)(t.p,{children:["The result will be printed to stdout. You can create a file with the flattened sources using the ",(0,r.jsx)(t.code,{children:">"})," redirection operator:"]}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"npx hardhat flatten > flattened.sol\n"})}),(0,r.jsxs)(t.p,{children:["Copy the contents of the new ",(0,r.jsx)(t.code,{children:"flattened.sol"})," file and paste into the ",(0,r.jsx)(t.code,{children:"Contract  code"})," field in the explorer."]})]}),(0,r.jsxs)(i.Z,{value:"remix",label:"Remix",children:[(0,r.jsxs)(t.p,{children:["In order to flatten the contract code with Remix, one needs to only right-click on the contract name and select ",(0,r.jsx)(t.strong,{children:"Flatten"})," option from the drop-down menu that appears. See the below figure for reference."]}),(0,r.jsx)(a.Z,{caption:"Selecting the flatten code option",src:n(96828).Z,width:"100%"}),(0,r.jsxs)(t.p,{children:["After selecting ",(0,r.jsx)(t.strong,{children:"Flatten"}),", a new ",(0,r.jsx)(t.code,{children:".sol"})," file with the suffix ",(0,r.jsx)(t.code,{children:"_flatten.sol"})," is automatically created. Copy the contents of the new ",(0,r.jsx)(t.code,{children:"<Original-Name>_flatten.sol"})," file and paste into the ",(0,r.jsx)(t.code,{children:"Contract  code"})," field in the explorer."]})]}),(0,r.jsxs)(i.Z,{value:"foundry",label:"Foundry",children:[(0,r.jsx)(t.p,{children:"In order to flatten the code using Foundry, the following command can be used:"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"forge flatten src/<Contract-Name> -o <Any-Name-For-Flattened-Code>.sol\n"})}),(0,r.jsxs)(t.p,{children:["With this command, the flattened code gets saved in the ",(0,r.jsx)(t.code,{children:"<Any-Name-For-Flattened-Code>.sol"})," file. Copy the contents of the new ",(0,r.jsx)(t.code,{children:"<Any-Name-For-Flattened-Code>.sol"})," file and paste into the ",(0,r.jsx)(t.code,{children:"Contract  code"})," field in the explorer."]}),(0,r.jsxs)(t.p,{children:["Select the Compiler based on your contract's compiler version. For example, select ",(0,r.jsx)(t.code,{children:"v0.8.9+commit.e5eed63a"})," if your code has ",(0,r.jsx)(t.code,{children:"pragma solidity ^0.8.9;"}),".\nSelect the Optimization option based on your contract's optimization settings."]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"solidity-standard-json-input",children:"Solidity, Standard JSON Input"}),"\n",(0,r.jsxs)(t.p,{children:["Click ",(0,r.jsx)(t.strong,{children:"Next"})," after selecting the ",(0,r.jsx)(t.strong,{children:"via Standard JSON Input"})," option."]}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["In order to update the ",(0,r.jsx)(t.strong,{children:"Compiler"})," based on your contract's compiler version,"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Click the \u2193 for a list of compiler versions."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Select the corresponding version. For example, select ",(0,r.jsx)(t.code,{children:"v0.8.9+commit.e5eed63a"})," if your code has ",(0,r.jsx)(t.code,{children:"pragma solidity ^0.8.9;"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Paste the ",(0,r.jsx)(t.strong,{children:"Standard Input JSON"})," file into the ",(0,r.jsx)(t.em,{children:"Drop the standard input JSON file or Click here"})," field. You can find it in your local project folder."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(l,{children:[(0,r.jsx)("summary",{children:"Finding the Standard Input JSON file"}),(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["For Hardhat project go to the ",(0,r.jsx)(t.code,{children:"src/build-info"})," folder and open the ",(0,r.jsx)(t.code,{children:".json"})," file."]}),"\n"]}),(0,r.jsx)(a.Z,{src:n(59589).Z,width:"35%"}),(0,r.jsxs)(t.ol,{start:"2",children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Find the ",(0,r.jsx)(t.code,{children:"input"})," JSON object. Format the json file to make it more readable."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Copy the only ",(0,r.jsx)(t.code,{children:"input"})," JSON object value into a new file"]}),"\n"]}),"\n"]}),(0,r.jsx)(a.Z,{src:n(11539).Z,width:"35%"}),(0,r.jsxs)(t.ol,{start:"4",children:["\n",(0,r.jsxs)(t.li,{children:["Drag and drop this new file into ",(0,r.jsx)(t.strong,{children:"Drop file or Click here"})," field."]}),"\n"]})]}),"\n",(0,r.jsxs)(t.ol,{start:"5",children:["\n",(0,r.jsxs)(t.li,{children:["Click on ",(0,r.jsx)(t.strong,{children:"Verify & Publish"})," button to verify your deployed smart contract."]}),"\n"]})]})}function f(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},85162:(e,t,n)=>{n.d(t,{Z:()=>i});n(67294);var r=n(86010);const s={tabItem:"tabItem_Ymn6"};var o=n(85893);function i(e){let{children:t,hidden:n,className:i}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.Z)(s.tabItem,i),hidden:n,children:t})}},74866:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(67294),s=n(86010),o=n(12466),i=n(16550),a=n(20469),l=n(91980),c=n(67392),d=n(50012);function h(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:s}}=e;return{value:t,label:n,attributes:r,default:s}}))}(n);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:n}=e;const s=(0,i.k6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l._X)(o),(0,r.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(s.location.search);t.set(o,e),s.replace({...s.location,search:t.toString()})}),[o,s])]}function x(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,o=u(e),[i,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[c,h]=f({queryString:n,groupId:s}),[x,m]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[s,o]=(0,d.Nk)(n);return[s,(0,r.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:s}),j=(()=>{const e=c??x;return p({value:e,tabValues:o})?e:null})();(0,a.Z)((()=>{j&&l(j)}),[j]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),m(e)}),[h,m,o]),tabValues:o}}var m=n(72389);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=n(85893);function g(e){let{className:t,block:n,selectedValue:r,selectValue:i,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.o5)(),d=e=>{const t=e.currentTarget,n=l.indexOf(t),s=a[n].value;s!==r&&(c(t),i(s))},h=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":n},t),children:a.map((e=>{let{value:t,label:n,attributes:o}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>l.push(e),onKeyDown:h,onClick:d,...o,className:(0,s.Z)("tabs__item",j.tabItem,o?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function y(e){let{lazy:t,children:n,selectedValue:s}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==s})))})}function v(e){const t=x(e);return(0,b.jsxs)("div",{className:(0,s.Z)("tabs-container",j.tabList),children:[(0,b.jsx)(g,{...e,...t}),(0,b.jsx)(y,{...e,...t})]})}function w(e){const t=(0,m.Z)();return(0,b.jsx)(v,{...e,children:h(e.children)},String(t))}},3837:(e,t,n)=>{n.d(t,{Z:()=>s});n(67294);var r=n(85893);function s(e){let{src:t,caption:n,width:s="460px"}=e;return(0,r.jsxs)("center",{children:[(0,r.jsx)("br",{}),(0,r.jsxs)("figure",{children:[(0,r.jsx)("img",{src:t,alt:n,width:s}),(0,r.jsx)("figcaption",{children:n})]}),(0,r.jsx)("br",{})]})}},96828:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/flatten-code-remix-3578558faab9738b5561c646e61ebe9b.png"},11539:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/input-object-347d682a64905f112a6476c1bab9857b.png"},59589:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/json-3ab5e6092df0cf983490658e91bae6a8.png"},11151:(e,t,n)=>{n.d(t,{Z:()=>a,a:()=>i});var r=n(67294);const s={},o=r.createContext(s);function i(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);