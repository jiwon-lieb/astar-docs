"use strict";(self.webpackChunkdocs_1=self.webpackChunkdocs_1||[]).push([[4627],{83313:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var s=n(85893),r=n(11151);const a={title:"Astar <-> zkEVM Bridge"},i=void 0,o={id:"build/zkEVM/integrations/bridges-relays/AstarEVM-zkEVM",title:"Astar <-> zkEVM Bridge",description:"Overview",source:"@site/docs/build/zkEVM/integrations/bridges-relays/AstarEVM-zkEVM.md",sourceDirName:"build/zkEVM/integrations/bridges-relays",slug:"/build/zkEVM/integrations/bridges-relays/AstarEVM-zkEVM",permalink:"/es/docs/build/zkEVM/integrations/bridges-relays/AstarEVM-zkEVM",draft:!1,unlisted:!1,editUrl:"https://github.com/AstarNetwork/astar-docs/tree/main/docs/build/zkEVM/integrations/bridges-relays/AstarEVM-zkEVM.md",tags:[],version:"current",frontMatter:{title:"Astar <-> zkEVM Bridge"},sidebar:"tutorialSidebar",previous:{title:"Asset Bridges",permalink:"/es/docs/build/zkEVM/integrations/bridges-relays/"},next:{title:"ETH <-> zkEVM Bridge",permalink:"/es/docs/build/zkEVM/integrations/bridges-relays/astar-bridge"}},d={},l=[{value:"Overview",id:"overview",level:2},{value:"Bridge ASTR on mainnet",id:"bridge-astr-on-mainnet",level:2},{value:"Bridging ASTR",id:"bridging-astr",level:3},{value:"Astar \u2192 Astar zkEVM",id:"astar--astar-zkevm",level:4},{value:"Astar zkEVM \u2192 Astar",id:"astar-zkevm--astar",level:4},{value:"Bridge Shibuya testnet token",id:"bridge-shibuya-testnet-token",level:2},{value:"Bridging LSBY Tokens",id:"bridging-lsby-tokens",level:3},{value:"Shibuya EVM \u2192 zKatana",id:"shibuya-evm--zkatana",level:4},{value:"zKatana \u2192 Shibuya EVM",id:"zkatana--shibuya-evm",level:4}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(t.p,{children:"LayerZero integration functionally connects the EVM on Astar parachain to the zkEVM on Ethereum. This takes the form of two smart contract-based endpoints that allow the chains to send messages to one another other."}),"\n",(0,s.jsx)(t.h2,{id:"bridge-astr-on-mainnet",children:"Bridge ASTR on mainnet"}),"\n",(0,s.jsxs)(t.p,{children:["LayerZero has a standard for synthetic assets that can be locked on a source chain and minted on another called Omnichain Fungible Token or ",(0,s.jsx)(t.strong,{children:"OFT"}),", which we will refer to going forward."]}),"\n",(0,s.jsxs)(t.p,{children:["For this walkthrough, on the Astar side, the contract is ",(0,s.jsx)(t.a,{href:"https://github.com/AstarNetwork/solidity-examples/blob/main/contracts/token/oft/v2/fee/NativeOFTWithFee.sol",children:"NativeOFT"}),", which acts as an ERC20 wrapper contract (the function is payable) that will be used to send a cross-chain message to the OFT contract on zk Astar to mint ASTR, otherwise known as LayerZero (synthetic) ASTR."]}),"\n",(0,s.jsxs)(t.p,{children:["On the Astar zkEVM side, the contract is ",(0,s.jsx)(t.a,{href:"https://github.com/AstarNetwork/solidity-examples/blob/main/contracts/token/oft/v2/fee/OFTWithFee.sol",children:"OFT"}),", which acts as the ERC20 ASTR synthetic asset on Astar zkEVM, which exist in a 1:1 ratio with its NativeOFT counterpart."]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Contract"}),(0,s.jsx)(t.th,{children:"Network"}),(0,s.jsx)(t.th,{children:"Address"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"OFT Native"}),(0,s.jsx)(t.td,{children:"Astar"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://astar.blockscout.com/address/0xdf41220C7e322bFEF933D85D01821ad277f90172?tab=txs",children:"0xdf41220C7e322bFEF933D85D01821ad277f90172"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"OFT"}),(0,s.jsx)(t.td,{children:"zkEVM"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"https://astar-zkevm.explorer.startale.com/address/0xdf41220C7e322bFEF933D85D01821ad277f90172?tab=txs",children:"0xdf41220C7e322bFEF933D85D01821ad277f90172"})})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"bridging-astr",children:"Bridging ASTR"}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["Token bridging will be integrated to Stargate UI ",(0,s.jsx)(t.a,{href:"https://stargate.finance/transfer",children:"https://stargate.finance/transfer"})," shortly to make it easier for users to bridge tokens."]})}),"\n",(0,s.jsx)(t.p,{children:"To facilitate token transfer, we have provided a sample repository containing a utility script:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Fork the ",(0,s.jsx)(t.a,{href:"https://github.com/AstarNetwork/layer-zero-bridge-mainnet",children:"Repository"})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Install dependencies by running ",(0,s.jsx)(t.code,{children:"npm install"})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Create a .env file (based on the .env.example) in the root directory"}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Add your ",(0,s.jsx)(t.a,{href:"https://support.metamask.io/hc/en-us/articles/360015289632-How-to-export-an-account-s-private-key",children:"private key"})," in the .env file"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Run ",(0,s.jsx)(t.code,{children:"npm hardhat compile"})," to compile the contracts"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"astar--astar-zkevm",children:"Astar \u2192 Astar zkEVM"}),"\n",(0,s.jsxs)(t.p,{children:["To send 1ASTR from ",(0,s.jsx)(t.code,{children:"astar"}),"(",(0,s.jsx)(t.code,{children:"astar L1 mainnet"}),") to ",(0,s.jsx)(t.code,{children:"zk-astar"}),"(",(0,s.jsx)(t.code,{children:"Astar zkEVM"}),"), run the following command (Note that the ",(0,s.jsx)(t.code,{children:"--quantity"})," flag is in wei):"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"npx hardhat bridge --quantity 1000000000000000000 --target-network zk-astar --network astar"})}),"\n",(0,s.jsx)(t.h4,{id:"astar-zkevm--astar",children:"Astar zkEVM \u2192 Astar"}),"\n",(0,s.jsxs)(t.p,{children:["To send  1ASTR from ",(0,s.jsx)(t.code,{children:"zk-astar"}),"(",(0,s.jsx)(t.code,{children:"Astar zkEVM"}),") to ",(0,s.jsx)(t.code,{children:"astar"}),"(",(0,s.jsx)(t.code,{children:"astar L1 mainnet"}),"), run the following command (Note that the ",(0,s.jsx)(t.code,{children:"--quantity"})," flag is in wei):"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"npx hardhat bridge --quantity 1000000000000000000 --target-network astar --network zk-astar"})}),"\n",(0,s.jsx)(t.h2,{id:"bridge-shibuya-testnet-token",children:"Bridge Shibuya testnet token"}),"\n",(0,s.jsx)(t.p,{children:"We deployed OFT contracts on Shibuya and zKatana to bridge SBY (NAtive token of Shibuya) to zKatana. Please follow the steps below."}),"\n",(0,s.jsx)(t.h3,{id:"bridging-lsby-tokens",children:"Bridging LSBY Tokens"}),"\n",(0,s.jsx)(t.p,{children:"To facilitate token transfer, we have provided a sample repository containing a utility script:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Fork the ",(0,s.jsx)(t.a,{href:"https://github.com/AstarNetwork/layer-zero-bridge-contracts-testnet",children:"Repository"})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Install dependencies by running ",(0,s.jsx)(t.code,{children:"npm install"})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Create a .env file (based on the .env.example) in the root directory"}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Add your ",(0,s.jsx)(t.a,{href:"https://support.metamask.io/hc/en-us/articles/360015289632-How-to-export-an-account-s-private-key",children:"private key"})," in the .env file"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Run ",(0,s.jsx)(t.code,{children:"npm hardhat compile"})," to compile the contracts"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"shibuya-evm--zkatana",children:"Shibuya EVM \u2192 zKatana"}),"\n",(0,s.jsx)(t.p,{children:"To send 1 SBY from shibuya-testnet to zkatana-testnet, run the following command (Note that the --quantity flag is in wei):"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"npx hardhat astarWithFeeSend --quantity 1000000000000000000 --target-network zkatana-testnet --network astar-testnet"})}),"\n",(0,s.jsx)(t.h4,{id:"zkatana--shibuya-evm",children:"zKatana \u2192 Shibuya EVM"}),"\n",(0,s.jsx)(t.p,{children:"To send 1SBY from zkatana-testnet to shibuya-testnet, run the following command (Note that the --quantity flag is in wei):"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"npx hardhat astarWithFeeSend --quantity 1000000000000000000 --target-network astar-testnet --network zkatana-testnet"})})]})}function c(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>i});var s=n(67294);const r={},a=s.createContext(r);function i(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);