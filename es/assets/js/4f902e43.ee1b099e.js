"use strict";(self.webpackChunkdocs_1=self.webpackChunkdocs_1||[]).push([[6651],{8635:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>c});var s=n(85893),i=n(11151);const r={sidebar_position:8},o="Retirar activos",t={id:"learn/interoperability/xcm/building-with-xcm/xc-assets-withdraw",title:"Retirar activos",description:"En el ecosistema de Polkadot hay dos formas de transferir activos entre cadenas remotas: teletransporte y transferencia de reservas. El teletransporte consiste esencialmente en quemar un activo por un lado y acu\xf1arlo por el otro, de modo que el saldo total antes y despu\xe9s del teletransporte siga siendo el mismo.",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/learn/interoperability/xcm/building-with-xcm/xc-assets-withdraw.md",sourceDirName:"learn/interoperability/xcm/building-with-xcm",slug:"/learn/interoperability/xcm/building-with-xcm/xc-assets-withdraw",permalink:"/es/docs/learn/interoperability/xcm/building-with-xcm/xc-assets-withdraw",draft:!1,unlisted:!1,editUrl:"https://github.com/AstarNetwork/astar-docs/tree/main/docs/learn/interoperability/xcm/building-with-xcm/xc-assets-withdraw.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Transferir activos reservados",permalink:"/es/docs/learn/interoperability/xcm/building-with-xcm/xc-reserve-transfer"},next:{title:"Aplicaciones de cliente",permalink:"/es/docs/learn/interoperability/xcm/building-with-xcm/client-applications"}},d={},c=[];function l(e){const a={a:"a",code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.h1,{id:"retirar-activos",children:"Retirar activos"}),"\n",(0,s.jsx)(a.p,{children:"En el ecosistema de Polkadot hay dos formas de transferir activos entre cadenas remotas: teletransporte y transferencia de reservas. El teletransporte consiste esencialmente en quemar un activo por un lado y acu\xf1arlo por el otro, de modo que el saldo total antes y despu\xe9s del teletransporte siga siendo el mismo."}),"\n",(0,s.jsx)(a.p,{children:"La segunda forma de transferir activos utiliza tokens envueltos, respaldados por activos en la cadena de origen. Los activos que se van a transferir se bloquean en la cadena de origen y se crean versiones 1:1 en la de destino. Dependiendo de la l\xf3gica de negocio, la cadena de origen que a\xfan posee los activos, puede querer acu\xf1ar algunos derivados para reflejar esa propiedad. De este modo, los activos originales no abandonan realmente la cadena, pero su propiedad pasa a ser transferible."}),"\n",(0,s.jsxs)(a.p,{children:["Supongamos que queremos importar tokens ",(0,s.jsx)(a.code,{children:"SBY"})," de Shibuya como activos envueltos en Shiden, dando como resultado ",(0,s.jsx)(a.code,{children:"wSBY"}),"."]}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"La red Shibuya necesitar\xe1 tener la cuenta soberana de Shiden. Esta cuenta est\xe1 controlada por Shiden y representa todos los fondos que se le env\xedan, desde la cadena remota (Shiden, desde la perspectiva de Shibuya en este ejemplo)."}),"\n",(0,s.jsxs)(a.li,{children:["La red Shiden deber\xe1 crear el activo ",(0,s.jsx)(a.code,{children:"wSBY"})," y configurarlo para que act\xfae como activo de cadena cruzada (XC20)."]}),"\n",(0,s.jsx)(a.li,{children:"Los canales HRMP deben estar habilitados y configurados para que las parachains se comuniquen e intercambien mensajes XCM."}),"\n",(0,s.jsxs)(a.li,{children:["Para pagar el tiempo de ejecuci\xf3n, ",(0,s.jsx)(a.code,{children:"wSBY"})," debe configurarse como activo de pago en Shiden."]}),"\n"]}),"\n",(0,s.jsx)(a.p,{children:"Durante la transferencia ocurrir\xe1 lo siguiente:"}),"\n",(0,s.jsxs)(a.ol,{children:["\n",(0,s.jsxs)(a.li,{children:["Se mueve una cantidad de ",(0,s.jsx)(a.code,{children:"SBY"})," de la cuenta de origen a la cuenta soberana de Shiden en Shibuya."]}),"\n",(0,s.jsxs)(a.li,{children:["Se env\xeda a Shiden un mensaje XCM que contiene la instrucci\xf3n ",(0,s.jsx)(a.code,{children:"ReserveTransferAssets"}),"."]}),"\n",(0,s.jsxs)(a.li,{children:["La instrucci\xf3n ",(0,s.jsx)(a.code,{children:"ReserveTransferAssets"})," es procesada por la paleta ",(0,s.jsx)(a.code,{children:"assets"})," en Shiden, y la cantidad correspondiente de ",(0,s.jsx)(a.code,{children:"wSBY"})," es acu\xf1ada en Shiden."]}),"\n",(0,s.jsxs)(a.li,{children:["Las fichas ",(0,s.jsx)(a.code,{children:"wSBY"})," acu\xf1adas se depositan en la cuenta de destino."]}),"\n",(0,s.jsxs)(a.li,{children:["Se deduce una peque\xf1a cantidad de ",(0,s.jsx)(a.code,{children:"wSBY"})," de la cuenta de destino como pago por el tiempo de ejecuci\xf3n"]}),"\n"]}),"\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.strong,{children:"Nota:"})," El ejemplo anterior es espec\xedfico de la implementaci\xf3n de dos parachains concretas. XCM no dicta ni impone ninguna restricci\xf3n sobre c\xf3mo interpretar los mensajes entrantes o c\xf3mo gestionar los activos derivados. Otras parachains pueden, o no, utilizar la paleta ",(0,s.jsx)(a.code,{children:"assets"}),"; la \xfanica suposici\xf3n es que ",(0,s.jsx)(a.code,{children:"assets_reserve_transfer"})," formar\xe1 un mensaje XCM con un origen especificado por su ",(0,s.jsx)(a.code,{children:"parachain_id"}),". Todo lo dem\xe1s depende de la cadena remota y su l\xf3gica, y no habr\xe1 reintentos en caso de fallo."]}),"\n",(0,s.jsx)(a.h1,{id:"precompilados-evm",children:"Precompilados EVM"}),"\n",(0,s.jsxs)(a.p,{children:["Esta funcionalidad se expone a los contratos inteligentes EVM a trav\xe9s de precompilaciones. La interfaz se puede conseguir ",(0,s.jsx)(a.a,{href:"https://github.com/AstarNetwork/Astar",children:"aqu\xed"})," bajo los precompilados XCM."]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-js",children:"    function assets_reserve_transfer(\n        address[] calldata asset_id,\n        uint256[] calldata asset_amount,\n        bytes32   recipient_account_id,\n        bool      is_relay,\n        uint256   parachain_id,\n        uint256   fee_index\n    ) external payable returns (bool);\n"})}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.code,{children:"asset_id"})," - Una lista de activos a transferir; para transferir activos nativos, v\xe9ase la siguiente secci\xf3n."]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.code,{children:"asset_amount"})," - El monto correspondiente de activos."]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.code,{children:"recipient_account_id"})," - El account id del destinatario en la cadena de destino (o en una Relay Chain)."]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.code,{children:"is_relay"})," Es verdadero si la cuenta de destino est\xe1 en la Relay Chain."]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.code,{children:"parachain_id"})," - El id de la parachain de destino."]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.code,{children:"fee_index"})," - Qu\xe9 activo de ",(0,s.jsx)(a.code,{children:"asset_id"})," se utiliza para pagar el gas de XCM."]}),"\n"]}),"\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.strong,{children:"Nota:"})," existe otra versi\xf3n de ",(0,s.jsx)(a.code,{children:"assets_reserve_transfer"})," precompilada que acepta ",(0,s.jsx)(a.code,{children:"address"})," en lugar de ",(0,s.jsx)(a.code,{children:"bytes32"})," para el ",(0,s.jsx)(a.code,{children:"recipient_account_id"}),"."]}),"\n",(0,s.jsx)(a.h1,{id:"detalles-de-implementaci\xf3n",children:"Detalles de implementaci\xf3n"}),"\n",(0,s.jsxs)(a.p,{children:["Astar usa un pallet XCM personalizado que fue ampliado por ",(0,s.jsx)(a.code,{children:"reserve_withdraw_assets"}),"."]})]})}function u(e={}){const{wrapper:a}={...(0,i.a)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},11151:(e,a,n)=>{n.d(a,{Z:()=>t,a:()=>o});var s=n(67294);const i={},r=s.createContext(i);function o(e){const a=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:a},e.children)}}}]);