<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-build/builder-guides/integration_toolings/cookbook_1" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Analyzing on-chain data using Covalent API + Python | Astar Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://jiwon-lieb.github.io/es/docs/build/builder-guides/integration_toolings/cookbook_1"><meta data-rh="true" property="og:locale" content="es"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Analyzing on-chain data using Covalent API + Python | Astar Docs"><meta data-rh="true" name="description" content="TL;DR"><meta data-rh="true" property="og:description" content="TL;DR"><link data-rh="true" rel="icon" href="/es/img/fav.png"><link data-rh="true" rel="canonical" href="https://jiwon-lieb.github.io/es/docs/build/builder-guides/integration_toolings/cookbook_1"><link data-rh="true" rel="alternate" href="https://jiwon-lieb.github.io/docs/build/builder-guides/integration_toolings/cookbook_1" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://jiwon-lieb.github.io/ja/docs/build/builder-guides/integration_toolings/cookbook_1" hreflang="ja"><link data-rh="true" rel="alternate" href="https://jiwon-lieb.github.io/es/docs/build/builder-guides/integration_toolings/cookbook_1" hreflang="es"><link data-rh="true" rel="alternate" href="https://jiwon-lieb.github.io/docs/build/builder-guides/integration_toolings/cookbook_1" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://S7S4T6Q4KC-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Astar Docs" href="/es/opensearch.xml">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/es/assets/css/styles.6b1c13aa.css">
<script src="/es/assets/js/runtime~main.c1c68087.js" defer="defer"></script>
<script src="/es/assets/js/main.2eb0d427.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Principal" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Barra de navegación" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/es/"><div class="navbar__logo"><img src="/es/img/astar-logo.svg" alt="Astar" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/es/img/astar-logo.svg" alt="Astar" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Astar Documentación</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/es/docs/getting-started">Documentación</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/es/docs/build/">Empezar a construir</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/es/docs/build/zkEVM/quickstart">zkEVM</a><a href="https://medium.com/astar-network" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Medium</a><a href="https://www.youtube.com/channel/UC36JgEF6gqatVSK9xlzzrvQ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Youtube</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Español</a><ul class="dropdown__menu"><li><a href="/docs/build/builder-guides/integration_toolings/cookbook_1" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/ja/docs/build/builder-guides/integration_toolings/cookbook_1" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/es/docs/build/builder-guides/integration_toolings/cookbook_1" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="es">Español</a></li></ul></div><a href="https://github.com/AstarNetwork/astar-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Cambiar entre modo oscuro y claro (actualmente modo claro)" aria-label="Cambiar entre modo oscuro y claro (actualmente modo claro)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Buscar"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Buscar</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Barra lateral de documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/es/docs/getting-started">Introducción</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/es/docs/learn/">Aprender</a><button aria-label="Expand sidebar category &#x27;Aprender&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/es/docs/use/">Usar</a><button aria-label="Expand sidebar category &#x27;Usar&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/es/docs/build/">Construir</a><button aria-label="Collapse sidebar category &#x27;Construir&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/es/docs/build/Introduction/">Introduction</a><button aria-label="Expand sidebar category &#x27;Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/es/docs/build/environment/">Build Environment</a><button aria-label="Expand sidebar category &#x27;Build Environment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/es/docs/build/wasm/">Wasm Smart Contracts</a><button aria-label="Expand sidebar category &#x27;Wasm Smart Contracts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/es/docs/build/EVM/">EVM Smart contracts</a><button aria-label="Expand sidebar category &#x27;EVM Smart contracts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/es/docs/build/dapp-staking/">dApp Staking</a><button aria-label="Expand sidebar category &#x27;dApp Staking&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/es/docs/build/integrations/">Integrations</a><button aria-label="Expand sidebar category &#x27;Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/es/docs/build/nodes/">Run A Node</a><button aria-label="Expand sidebar category &#x27;Run A Node&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/es/docs/build/zkEVM/">Astar zkEVM</a><button aria-label="Expand sidebar category &#x27;Astar zkEVM&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/es/docs/build/builder-guides/">Builder Guides</a><button aria-label="Collapse sidebar category &#x27;Builder Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/es/docs/build/builder-guides/leverage_parachains/interact_with_xc20">How to leverage other Parachains</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/es/docs/build/builder-guides/integration_toolings/cookbook_1">Integration and Toolings</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/es/docs/build/builder-guides/integration_toolings/cookbook_1">Analyzing on-chain data using Covalent API + Python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/build/builder-guides/integration_toolings/add-wallets-to-portal">Add wallets into Astar Portal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/build/builder-guides/integration_toolings/deploy-astar-portal">Deploy Astar Portal on Vercel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/build/builder-guides/integration_toolings/using-sidecar">Deploying Astar Blockchain HTTP Server using API Sidecar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/es/docs/build/builder-guides/integration_toolings/use-python">Query dApp Staking extrinsics and participating addresses with Python</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/es/docs/build/builder-guides/xvm_wasm/manage_psp22_asset">XVM and Wasm</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/es/docs/build/builder-guides/astar_features/run_local_network">Use Astar Features</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/es/docs/build/builder-guides/hacking/">Astar Hacker Guide</a><button aria-label="Expand sidebar category &#x27;Astar Hacker Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/es/docs/build/astar-beta-labs/">Astar Beta Labs</a><button aria-label="Expand sidebar category &#x27;Astar Beta Labs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/es/docs/tutorials/">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Página de Inicio" class="breadcrumbs__link" href="/es/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/es/docs/build/"><span itemprop="name">Construir</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/es/docs/build/builder-guides/"><span itemprop="name">Builder Guides</span></a><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Integration and Toolings</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Analyzing on-chain data using Covalent API + Python</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><h1>Analyzing on-chain data using Covalent API + Python</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tldr">TL;DR<a href="#tldr" class="hash-link" aria-label="Enlace directo al TL;DR" title="Enlace directo al TL;DR">​</a></h2>
<p>This cookbook will go through how to extract and analyze on-chain data of Astar Network using Python and Covalent API. This cookbook is especially useful for non-devs who are not familiar with setting up indexers to query on-chain data. All steps can be done totally free without having to use a terminal or setting up a local development environment.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-covalent">What is Covalent?<a href="#what-is-covalent" class="hash-link" aria-label="Enlace directo al What is Covalent?" title="Enlace directo al What is Covalent?">​</a></h2>
<p>Covalent leverages big-data technologies to create meaning from hundreds of billions of data points, delivering actionable insights to investors and allowing developers to allocate resources to higher-utility goals within their organization. Instead of pain-stakingly sourcing data from a small handful of chains, Covalent aggregates information from across dozens of sources including nodes, chains, and data feeds. The Covalent API then sources end users with individualized data by wallet, including current and historical investment performance across all types of digital assets. Most importantly, Covalent returns this data in a rapid and consistent manner, incorporating all relevant data within one API interface.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="analyzing-arthswap-pool-balance">Analyzing ArthSwap pool balance<a href="#analyzing-arthswap-pool-balance" class="hash-link" aria-label="Enlace directo al Analyzing ArthSwap pool balance" title="Enlace directo al Analyzing ArthSwap pool balance">​</a></h2>
<p>As an example in this cookbook, we will analyze the change in the balance of ceUSDC/ceUSDT pool on ArthSwap. We will be using Python in this cookbook. For non-devs who are not familiar to setting up local environment to run Python, we recommend using Jupyter Notebook.</p>
<p>Make sure to sign up for Covalent to get the API key needed to run the code. (You can register <a href="https://www.covalenthq.com/" target="_blank" rel="noopener noreferrer">here</a>)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-extract-data">Step 1: Extract data<a href="#step-1-extract-data" class="hash-link" aria-label="Enlace directo al Step 1: Extract data" title="Enlace directo al Step 1: Extract data">​</a></h3>
<p>Before we do any data transformation and analytics, we need a list of historical portfolio data of ceUSDC/ceUSDT pool contract as our first step. To get the information, we need to send the following request (see the reference section in this cookbook for more info on API format):</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET /v1/{chain_id}/address/{address}/portfolio_v2/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this request, parameter chain_id is the chain ID of the Blockchain being queried. In this cookbook, we will use chain_id = 593 (Astar Network) and contract address of ceUSDC/ceUSDT pool = 0xD72A602C714ae36D990dc835eA5F96Ef87657D5e as example. The following code uses Python to extract the data.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">API_KEY = [YOUR_API_KEY]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base_url = &#x27;https://api.covalenthq.com/v1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">blockchain_chain_id = &#x27;592&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address = &quot;0xD72A602C714ae36D990dc835eA5F96Ef87657D5e&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def get_wallet_portfolio(chain_id, address):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    endpoint = f&#x27;/{chain_id}/address/{address}/portfolio_v2/?key={API_KEY}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    url = base_url + endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result = requests.get(url).json()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return(result)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">portfolio_data = get_wallet_portfolio(blockchain_chain_id, address)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(portfolio_data)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Below is a sample output:</p>
<p><code>{&#x27;data&#x27;: {&#x27;address&#x27;: &#x27;0xd72a602c714ae36d990dc835ea5f96ef87657d5e&#x27;, &#x27;updated_at&#x27;: &#x27;2022-09-20T07:17:27.930341337Z&#x27;, &#x27;next_update_at&#x27;: &#x27;2022-09-20T07:22:27.930341567Z&#x27;, &#x27;quote_currency&#x27;: &#x27;USD&#x27;, &#x27;chain_id&#x27;: 592, &#x27;items&#x27;: [{&#x27;contract_decimals&#x27;: 6, &#x27;contract_name&#x27;: &#x27;USD Coin&#x27;, &#x27;contract_ticker_symbol&#x27;: &#x27;USDC&#x27;, &#x27;contract_address&#x27;: &#x27;0x6a2d262d56735dba19dd70682b39f6be9a931d98&#x27;, &#x27;supports_erc&#x27;: None, &#x27;logo_url&#x27;: &#x27;[https://logos.covalenthq.com/tokens/592/0x6a2d262d56735dba19dd70682b39f6be9a931d98.png](https://logos.covalenthq.com/tokens/592/0x6a2d262d56735dba19dd70682b39f6be9a931d98.png)&#x27;, &#x27;holdings&#x27;: [{&#x27;timestamp&#x27;: &#x27;2022-09-20T00:00:00Z&#x27;, &#x27;quote_rate&#x27;: 0.9932833, &#x27;open&#x27;: {&#x27;balance&#x27;: &#x27;391683183282&#x27;, &#x27;quote&#x27;: 389052.34}, &#x27;high&#x27;: {&#x27;balance&#x27;: &#x27;392123445379&#x27;, &#x27;quote&#x27;: 389489.66}, &#x27;low&#x27;: {&#x27;balance&#x27;: &#x27;316424219770&#x27;, &#x27;quote&#x27;: 314298.88}, &#x27;close&#x27;: {&#x27;balance&#x27;: &#x27;317469504720&#x27;, &#x27;quote&#x27;: 315337.16}}, {&#x27;timestamp&#x27;: &#x27;2022-09-19T00:00:00Z&#x27;, &#x27;quote_rate&#x27;: 1.0022721, &#x27;open&#x27;: {&#x27;balance&#x27;: &#x27;391991979278&#x27;, &#x27;quote&#x27;: 392882.62}, &#x27;high&#x27;: {&#x27;balance&#x27;: &#x27;392739045673&#x27;, &#x27;quote&#x27;: 393631.4}, &#x27;low&#x27;: {&#x27;balance&#x27;: &#x27;389667428685&#x27;, &#x27;quote&#x27;: 390552.8}, &#x27;close&#x27;: {&#x27;balance&#x27;: &#x27;391683183282&#x27;, &#x27;quote&#x27;: 392573.16}},</code> ...</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-transform-the-data-into-lists">Step 2: Transform the data into lists<a href="#step-2-transform-the-data-into-lists" class="hash-link" aria-label="Enlace directo al Step 2: Transform the data into lists" title="Enlace directo al Step 2: Transform the data into lists">​</a></h3>
<p>After data extraction is done in step 1, we will transform that data into three lists so it can be easily handled using Pandas, a data analytics library for Python. The code below creates a few functions that transform our data into lists.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">API_KEY = &#x27;ckey_76799bb987a14e179ea6031d15c&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base_url = &#x27;https://api.covalenthq.com/v1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">blockchain_chain_id = &#x27;592&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address = &quot;0xD72A602C714ae36D990dc835eA5F96Ef87657D5e&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def get_wallet_portfolio(chain_id, address):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    endpoint = f&#x27;/{chain_id}/address/{address}/portfolio_v2/?key={API_KEY}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    url = base_url + endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result = requests.get(url).json()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return(result)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def get_timestamp_list(sample_data):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timestamp = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for tmp in reversed(sample_data):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timestamp.append(tmp[&quot;timestamp&quot;][5:10])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (timestamp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def get_token_balance_list(data):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    token_balance_list = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for tmp_data in reversed(data):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        balance = tmp_data[&quot;open&quot;][&quot;balance&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        token_balance_list.append(int(balance) // 1000000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (token_balance_list)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">portfolio_data = get_wallet_portfolio(blockchain_chain_id, address)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">timestamp_list = get_timestamp_list(portfolio_data[&quot;data&quot;][&quot;items&quot;][0][&quot;holdings&quot;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usdc_token_balance_list = get_token_balance_list(portfolio_data[&quot;data&quot;][&quot;items&quot;][0][&quot;holdings&quot;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usdt_token_balance_list = get_token_balance_list(portfolio_data[&quot;data&quot;][&quot;items&quot;][1][&quot;holdings&quot;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(timestamp_list)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(usdc_token_balance_list)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(usdt_token_balance_list)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output will look as follows. The first list is a series of timestamps, the second is liquidity of USDC (in USD), and the third is liquidity of USDT (in USD) on each day.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[&#x27;08-21&#x27;, &#x27;08-22&#x27;, &#x27;08-23&#x27;, &#x27;08-24&#x27;, &#x27;08-25&#x27;, &#x27;08-26&#x27;, &#x27;08-27&#x27;, &#x27;08-28&#x27;, &#x27;08-29&#x27;, &#x27;08-30&#x27;, &#x27;08-31&#x27;, &#x27;09-01&#x27;, &#x27;09-02&#x27;, &#x27;09-03&#x27;, &#x27;09-04&#x27;, &#x27;09-05&#x27;, &#x27;09-06&#x27;, &#x27;09-07&#x27;, &#x27;09-08&#x27;, &#x27;09-09&#x27;, &#x27;09-10&#x27;, &#x27;09-11&#x27;, &#x27;09-12&#x27;, &#x27;09-13&#x27;, &#x27;09-14&#x27;, &#x27;09-15&#x27;, &#x27;09-16&#x27;, &#x27;09-17&#x27;, &#x27;09-18&#x27;, &#x27;09-19&#x27;, &#x27;09-20&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469, 317469]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368, 317368]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-transform-the-data-to-pandas-dataframe">Step 3: Transform the data to Pandas Dataframe<a href="#step-3-transform-the-data-to-pandas-dataframe" class="hash-link" aria-label="Enlace directo al Step 3: Transform the data to Pandas Dataframe" title="Enlace directo al Step 3: Transform the data to Pandas Dataframe">​</a></h3>
<p>Now, let&#x27;s transform the lists created in Step 2 into Pandas Dataframe so that they can be turned into a graph in next step.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import pandas as pd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">API_KEY = &#x27;ckey_76799bb987a14e179ea6031d15c&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base_url = &#x27;https://api.covalenthq.com/v1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">blockchain_chain_id = &#x27;592&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address = &quot;0xD72A602C714ae36D990dc835eA5F96Ef87657D5e&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def get_wallet_portfolio(chain_id, address):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    endpoint = f&#x27;/{chain_id}/address/{address}/portfolio_v2/?key={API_KEY}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    url = base_url + endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result = requests.get(url).json()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return(result)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def get_timestamp_list(sample_data):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timestamp = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for tmp in reversed(sample_data):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timestamp.append(tmp[&quot;timestamp&quot;][5:10])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (timestamp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def get_token_balance_list(data):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    token_balance_list = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for tmp_data in reversed(data):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        balance = tmp_data[&quot;open&quot;][&quot;balance&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        token_balance_list.append(int(balance) // 1000000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (token_balance_list)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">portfolio_data = get_wallet_portfolio(blockchain_chain_id, address)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">timestamp_list = get_timestamp_list(portfolio_data[&quot;data&quot;][&quot;items&quot;][0][&quot;holdings&quot;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usdc_token_balance_list = get_token_balance_list(portfolio_data[&quot;data&quot;][&quot;items&quot;][0][&quot;holdings&quot;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usdt_token_balance_list = get_token_balance_list(portfolio_data[&quot;data&quot;][&quot;items&quot;][1][&quot;holdings&quot;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lp_df = pd.DataFrame(data = [usdc_token_balance_list, usdt_token_balance_list], index = [&quot;USDC&quot;, &quot;USDT&quot;], columns = timestamp_list)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(lp_df.T)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output will look as follows. You can see that the lists have turned into a dataframe.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">       USDC    USDT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">08-21  446081  451625</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">08-22  453840  459288</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">08-23  455964  461331</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">08-24  455846  461451</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">08-25  456262  461089</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">08-26  455285  461550</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">08-27  457687  463863</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">08-28  456071  462506</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">08-29  460596  465996</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">08-30  449226  454343</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">08-31  429668  435999</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-01  430336  435230</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-02  331040  335945</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-03  321951  327345</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-04  221460  227266</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-05  226810  231804</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-06  237230  242222</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-07  302571  308771</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-08  293992  299795</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-09  292354  297289</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-10  292838  297973</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-11  296315  301463</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-12  296068  301855</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-13  296641  301435</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-14  408155  413254</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-15  289567  294152</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-16  393641  398622</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-17  391511  395897</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-18  392412  396156</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-19  391991  396653</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">09-20  391683  392573</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-visualizing-the-data">Step 4: Visualizing the data<a href="#step-4-visualizing-the-data" class="hash-link" aria-label="Enlace directo al Step 4: Visualizing the data" title="Enlace directo al Step 4: Visualizing the data">​</a></h3>
<p>In this final step, we will use our dataframe to visualize the liquidity of USDC and USDT in the pool for each day.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">%matplotlib inline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import pandas as pd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import matplotlib as mpl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import matplotlib.pyplot as plt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">API_KEY = &#x27;ckey_76799bb987a14e179ea6031d15c&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base_url = &#x27;https://api.covalenthq.com/v1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">blockchain_chain_id = &#x27;592&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address = &quot;0xD72A602C714ae36D990dc835eA5F96Ef87657D5e&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def get_wallet_portfolio(chain_id, address):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    endpoint = f&#x27;/{chain_id}/address/{address}/portfolio_v2/?key={API_KEY}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    url = base_url + endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result = requests.get(url).json()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return(result)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def get_timestamp_list(sample_data):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timestamp = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for tmp in reversed(sample_data):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timestamp.append(tmp[&quot;timestamp&quot;][5:10])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (timestamp)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def get_token_balance_list(data):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    token_balance_list = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for tmp_data in reversed(data):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        balance = tmp_data[&quot;open&quot;][&quot;balance&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        token_balance_list.append(int(balance) // 1000000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (token_balance_list)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">portfolio_data = get_wallet_portfolio(blockchain_chain_id, address)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">timestamp_list = get_timestamp_list(portfolio_data[&quot;data&quot;][&quot;items&quot;][0][&quot;holdings&quot;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usdc_token_balance_list = get_token_balance_list(portfolio_data[&quot;data&quot;][&quot;items&quot;][0][&quot;holdings&quot;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usdt_token_balance_list = get_token_balance_list(portfolio_data[&quot;data&quot;][&quot;items&quot;][1][&quot;holdings&quot;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lp_df = pd.DataFrame(data = [usdc_token_balance_list, usdt_token_balance_list], index = [&quot;USDC&quot;, &quot;USDT&quot;], columns = timestamp_list)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lp_df.T.plot()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output will look as follows:</p>
<p><img loading="lazy" alt="1" src="/es/assets/images/1-bbc70e3c14e8e8beffecd4e01181c00b.png" width="1320" height="900" class="img_ev3q"></p>
<p>That&#x27;s it!</p>
<p>This guide demonstrated how we can easily visualize the historical balance of ceUSDC/ceUSDT pool on ArthSwap using Covalent and Python. Creating a graph like this can be a useful reference tool for your project. For example, anyone can use the graph in this eample to see the liquidity for both USDT and USDC on 9/20 was $400K. No need to go digging for specific on-chain data.</p>
<p>This is just a simple example. There is a lot of API opened by Covalent and endless ways to use those data to create insightful graphs, and other reference resources.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reference">Reference<a href="#reference" class="hash-link" aria-label="Enlace directo al Reference" title="Enlace directo al Reference">​</a></h2>
<ul>
<li>Covalent API resource<!-- -->
<ul>
<li><a href="https://www.covalenthq.com/docs/api/#/0/0/USD/1" target="_blank" rel="noopener noreferrer">https://www.covalenthq.com/docs/api/#/0/0/USD/1</a></li>
</ul>
</li>
<li>Covalent docs<!-- -->
<ul>
<li><a href="https://www.covalenthq.com/docs/" target="_blank" rel="noopener noreferrer">https://www.covalenthq.com/docs/</a></li>
</ul>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/AstarNetwork/astar-docs/tree/main/docs/build/builder-guides/integration_toolings/cookbook_1.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar esta página</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Página del documento"><a class="pagination-nav__link pagination-nav__link--prev" href="/es/docs/build/builder-guides/leverage_parachains/zombienet"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">How to set up a Zombienet for XCM testing</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/es/docs/build/builder-guides/integration_toolings/add-wallets-to-portal"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Add wallets into Astar Portal</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tldr" class="table-of-contents__link toc-highlight">TL;DR</a></li><li><a href="#what-is-covalent" class="table-of-contents__link toc-highlight">What is Covalent?</a></li><li><a href="#analyzing-arthswap-pool-balance" class="table-of-contents__link toc-highlight">Analyzing ArthSwap pool balance</a><ul><li><a href="#step-1-extract-data" class="table-of-contents__link toc-highlight">Step 1: Extract data</a></li><li><a href="#step-2-transform-the-data-into-lists" class="table-of-contents__link toc-highlight">Step 2: Transform the data into lists</a></li><li><a href="#step-3-transform-the-data-to-pandas-dataframe" class="table-of-contents__link toc-highlight">Step 3: Transform the data to Pandas Dataframe</a></li><li><a href="#step-4-visualizing-the-data" class="table-of-contents__link toc-highlight">Step 4: Visualizing the data</a></li></ul></li><li><a href="#reference" class="table-of-contents__link toc-highlight">Reference</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentación</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/es/docs/getting-started">Comenzar</a></li></ul></div><div class="col footer__col"><div class="footer__title">Comunidad</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/astarnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/AstarNetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Más</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://astar.network/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/AstarNetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Astar Developers Hub.</div></div></div></footer></div>
</body>
</html>