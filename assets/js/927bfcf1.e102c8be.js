"use strict";(self.webpackChunkdocs_1=self.webpackChunkdocs_1||[]).push([[9670],{54908:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var s=o(85893),t=o(11151);const i={sidebar_position:4},r="XCM Tools",a={id:"learn/interoperability/xcm/integration/tools",title:"XCM Tools",description:"We've prepared an xcm-tools crate which provides an easy way for users to find a sovereign account or calculate an XC20 asset Id. This section is intended for developers or integrators who possess basic technical knowledge.",source:"@site/docs/learn/interoperability/xcm/integration/tools.md",sourceDirName:"learn/interoperability/xcm/integration",slug:"/learn/interoperability/xcm/integration/tools",permalink:"/docs/learn/interoperability/xcm/integration/tools",draft:!1,unlisted:!1,editUrl:"https://github.com/AstarNetwork/astar-docs/tree/main/docs/learn/interoperability/xcm/integration/tools.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Asset MultiLocation",permalink:"/docs/learn/interoperability/xcm/integration/multilocation"},next:{title:"Add assets to Astar Portal",permalink:"/docs/learn/interoperability/xcm/integration/add-to-portal"}},c={},l=[{value:"Installation",id:"installation",level:2},{value:"Sovereign Account",id:"sovereign-account",level:2},{value:"XC20 Address",id:"xc20-address",level:2},{value:"Remote Account",id:"remote-account",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"xcm-tools",children:"XCM Tools"}),"\n",(0,s.jsx)(n.p,{children:"We've prepared an xcm-tools crate which provides an easy way for users to find a sovereign account or calculate an XC20 asset Id. This section is intended for developers or integrators who possess basic technical knowledge."}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Make sure your machine is capable of compiling Substrate code. For more info, check ",(0,s.jsx)(n.a,{href:"https://docs.substrate.io/install/",children:"here"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Clone ",(0,s.jsx)(n.a,{href:"https://github.com/AstarNetwork/Astar",children:"Astar repo"})]}),"\n",(0,s.jsxs)(n.li,{children:["Position yourself in repository root and run ",(0,s.jsx)(n.code,{children:"cargo build --release -p xcm-tools"})]}),"\n",(0,s.jsxs)(n.li,{children:["After compilation finishes, check the ",(0,s.jsx)(n.code,{children:"./target/release"})," folder for the ",(0,s.jsx)(n.code,{children:"xcm-tools"})," binary"]}),"\n",(0,s.jsx)(n.li,{children:"Store it for later use so you don't have to recompile it from scratch."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"sovereign-account",children:"Sovereign Account"}),"\n",(0,s.jsx)(n.p,{children:"For finding a parachain's sovereign account address on the Relay Chain, use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./xcm-tools sovereign-account 2006\n5Ec4AhPW97z4ZyYkd3mYkJrSeZWcwVv4wiANES2QrJi1x17F\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Replace ",(0,s.jsx)(n.strong,{children:"2006"})," with the parachain Id you require."]}),"\n",(0,s.jsx)(n.p,{children:"For calculating a sibling parachain's sovereign account address, use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./xcm-tools sovereign-account -s 2006\n5Eg2fntKDrAxhaGuB3idrxCFu3BveuyB1MooVPYuj2jaoSsw\n"})}),"\n",(0,s.jsx)(n.p,{children:"E.g. this will be the sovereign account address of Astar on Statemint.\nReplace 2006 with the parachain Id you require."}),"\n",(0,s.jsx)(n.h2,{id:"xc20-address",children:"XC20 Address"}),"\n",(0,s.jsx)(n.p,{children:"For calculating an XC20 EVM address, use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./xcm-tools asset-id 42424242424242\npallet_assets: 42424242424242\nEVM XC20: 0xffffffff000000000000000000002695a9e649b2\n"})}),"\n",(0,s.jsx)(n.p,{children:"You can also input a standard asset Id (as seen by pallet-assets), and it will output the H160 address of that asset."}),"\n",(0,s.jsx)(n.h2,{id:"remote-account",children:"Remote Account"}),"\n",(0,s.jsxs)(n.p,{children:["For calculating the remote account, see (",(0,s.jsx)(n.a,{href:"https://github.com/paritytech/polkadot/blob/master/xcm/xcm-builder/src/location_conversion.rs#L25",children:"here"}),"), we have provide a dedicated command. However, the possible ",(0,s.jsx)(n.code,{children:"MultiLocation"}),"s format is limited to:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"{ parents: 1, interior: X1(AccountId32{ network: _, id: 0x<id>}) }"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"{ parents: 1, interior: X2(Parachain(<parachain_id>), AccountId32{ network: _, id: 0x<id>}) }"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"{ parents: 1, interior: X2(Parachain(<parachain_id>), AccountKey20{ network: _, key: 0x<id>}) }"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"For the first case, use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./xcm-tools remote-account -a 0x84746218b9858233f45f99d742aa3ea2f31aeb5a525938f240fdee3000000000\n5H2dw5K45MfT4dwB7u924MYFASzGoWvACzKuMo3TdgJRkg2R\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The value under ",(0,s.jsx)(n.code,{children:"-a"})," is a SS58 public key."]}),"\n",(0,s.jsx)(n.p,{children:"For the second case, use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./xcm-tools remote-account -p 1000 -a 0x84746218b9858233f45f99d742aa3ea2f31aeb5a525938f240fdee3000000000\n5FkWm28hUM7XC9qvrS3w4RP38wCgajfvFpqyfjeTSVxShdzC\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The value under ",(0,s.jsx)(n.code,{children:"-p"})," is parachain Id, while ",(0,s.jsx)(n.code,{children:"-a"})," is again the public key."]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},11151:(e,n,o)=>{o.d(n,{Z:()=>a,a:()=>r});var s=o(67294);const t={},i=s.createContext(t);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);