"use strict";(self.webpackChunkdocs_1=self.webpackChunkdocs_1||[]).push([[1281],{63207:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var s=t(85893),a=t(11151);const i={sidebar_position:2},r="Pallet-Assets Chain Extension",o={id:"build/wasm/contract_environment/chain-extension/assets-ce",title:"Pallet-Assets Chain Extension",description:"API",source:"@site/docs/build/wasm/contract_environment/chain-extension/assets-ce.md",sourceDirName:"build/wasm/contract_environment/chain-extension",slug:"/build/wasm/contract_environment/chain-extension/assets-ce",permalink:"/docs/build/wasm/contract_environment/chain-extension/assets-ce",draft:!1,unlisted:!1,editUrl:"https://github.com/AstarNetwork/astar-docs/tree/main/docs/build/wasm/contract_environment/chain-extension/assets-ce.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Chain Extensions",permalink:"/docs/build/wasm/contract_environment/chain-extension/chain_extensions"},next:{title:"Block Explorers",permalink:"/docs/build/wasm/contract_environment/explorers"}},c={},l=[{value:"API",id:"api",level:3},{value:"Only call on behalf of the contract is implemented",id:"only-call-on-behalf-of-the-contract-is-implemented",level:4},{value:"Usage in your contract",id:"usage-in-your-contract",level:4}];function d(n){const e={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",...(0,a.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"pallet-assets-chain-extension",children:"Pallet-Assets Chain Extension"}),"\n",(0,s.jsx)(e.h3,{id:"api",children:"API"}),"\n",(0,s.jsxs)(e.p,{children:["This chain extension allows contracts to call pallet-assets functions.",(0,s.jsx)(e.br,{}),"\n","It includes extrinsics:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-rust",children:"fn mint()\nfn burn()\nfn transfer()\nfn approve_transfer()\nfn transfer_approved()\n"})}),"\n",(0,s.jsx)(e.p,{children:"And these queries:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-rust",children:"fn balance_of()\nfn total_supply()\nfn allowance()\nfn metadata_name()\nfn metadata_symbol()\nfn metadata_decimals()\nfn minimum_balance()\n"})}),"\n",(0,s.jsx)(e.p,{children:"Some extrinsics are NOT part of the chain extension because they have no or limited usage for smart contracts."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-rust",children:"fn create()\nfn cancel_approval()\nfn set_metadata()\nfn transfer_ownership()\nfn clear_metadata()\nfn start_destroy()\nfn destroy_accounts()\nfn destroy_approvals()\nfn finish_destroy()\nfn freeze()\nfn freeze_asset()\nfn refund()\nfn set_team()\nfn thaw()\nfn touch()\nfn transfer_keep_alive()\n"})}),"\n",(0,s.jsx)(e.h4,{id:"only-call-on-behalf-of-the-contract-is-implemented",children:"Only call on behalf of the contract is implemented"}),"\n",(0,s.jsx)(e.p,{children:"The Origin of the call is the contract address calling the chain-extension. The caller is this case is the address that calls the contract."}),"\n",(0,s.jsx)(e.h4,{id:"usage-in-your-contract",children:"Usage in your contract"}),"\n",(0,s.jsxs)(e.p,{children:["Please check the Chain Extension library repo and use assets-extension crate: ",(0,s.jsx)(e.a,{href:"https://github.com/AstarNetwork/chain-extension-contracts",children:"LINK"})]}),"\n",(0,s.jsx)(e.admonition,{type:"note",children:(0,s.jsx)(e.p,{children:"Your contract should be in ink! 4.3 or above"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["add ",(0,s.jsx)(e.code,{children:"assets_extension"})," in your ",(0,s.jsx)(e.code,{children:"Cargo.toml"})," and to the ",(0,s.jsx)(e.code,{children:"std"})," ",(0,s.jsx)(e.code,{children:"features"})]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-toml",children:'assets_extension = {  git = "https://github.com/AstarNetwork/chain-extension-contracts", default-features = false }\n\n[features]\ndefault = ["std"]\nstd = [\n    "ink/std",\n    "scale/std",\n    "scale-info/std",\n    "assets_extension/std",\n]\n'})}),"\n",(0,s.jsxs)(e.ol,{start:"2",children:["\n",(0,s.jsxs)(e.li,{children:["Add ",(0,s.jsx)(e.code,{children:"use"})," statement in your contract module"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-rust",children:"use assets_extension::{AssetsError, AssetsExtension as _AssetsExtension};\n\ntype AssetsExtension = _AssetsExtension<DefaultEnvironment>;\n"})}),"\n",(0,s.jsxs)(e.ol,{start:"3",children:["\n",(0,s.jsx)(e.li,{children:"Use struct functions directly in your contract"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-rust",children:"AssetsExtension::mint(asset_id, beneficiary, amount)?;\n"})})]})}function h(n={}){const{wrapper:e}={...(0,a.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},11151:(n,e,t)=>{t.d(e,{Z:()=>o,a:()=>r});var s=t(67294);const a={},i=s.createContext(a);function r(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);