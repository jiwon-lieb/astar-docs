"use strict";(self.webpackChunkdocs_1=self.webpackChunkdocs_1||[]).push([[6559],{56047:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>l,frontMatter:()=>a,metadata:()=>o,toc:()=>h});var t=n(85893),i=n(11151);const a={sidebar_position:1},r="Native XCM Transactions",o={id:"learn/interoperability/xcm/building-with-xcm/native-transactions",title:"Native XCM Transactions",description:"Let\u2019s examine how to transfer native Relay Chain assets (DOT or KSM) to Astar or Shiden.",source:"@site/docs/learn/interoperability/xcm/building-with-xcm/native-transactions.md",sourceDirName:"learn/interoperability/xcm/building-with-xcm",slug:"/learn/interoperability/xcm/building-with-xcm/native-transactions",permalink:"/ja/docs/learn/interoperability/xcm/building-with-xcm/native-transactions",draft:!1,unlisted:!1,editUrl:"https://github.com/AstarNetwork/astar-docs/tree/main/docs/learn/interoperability/xcm/building-with-xcm/native-transactions.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Building with XCM",permalink:"/ja/docs/learn/interoperability/xcm/building-with-xcm/"},next:{title:"Create XC20 Assets",permalink:"/ja/docs/learn/interoperability/xcm/building-with-xcm/create-xc20-assets"}},c={},h=[{value:"In Practise",id:"in-practise",level:2}];function d(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"native-xcm-transactions",children:"Native XCM Transactions"}),"\n",(0,t.jsx)(s.p,{children:"Let\u2019s examine how to transfer native Relay Chain assets (DOT or KSM) to Astar or Shiden."}),"\n",(0,t.jsx)(s.p,{children:"For this demonstration we\u2019ll be using the Polkadot.js portal. Regular users will be interacting through our portal where all this complexity will remain abstract."}),"\n",(0,t.jsxs)(s.p,{children:["For this demonstration, we will transfer ",(0,t.jsx)(s.strong,{children:"KSM"})," tokens from Kusama to Shiden Network."]}),"\n",(0,t.jsx)(s.h2,{id:"in-practise",children:"In Practise"}),"\n",(0,t.jsxs)(s.p,{children:["We will be using chopsticks for this demo (more info on the dedicated ",(0,t.jsx)(s.a,{href:"/ja/docs/build/environment/chopsticks",children:"chopsticks page"}),").\nThis command will spawn a chopsticks network that will replicate current state of Kusama relay-chain and Shiden parachain allowing XCM:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"npx @acala-network/chopsticks@latest xcm -r kusama -p shiden\n"})}),"\n",(0,t.jsxs)(s.p,{children:["The Relay Chain native asset is represented on Astar or Shiden by asset Id ",(0,t.jsx)(s.code,{children:"0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"})," or ",(0,t.jsx)(s.code,{children:"340282366920938463463374607431768211455"})," in decimal."]}),"\n",(0,t.jsxs)(s.p,{children:["In the Shiden chopsticks ",(0,t.jsx)(s.a,{href:"https://github.com/AcalaNetwork/chopsticks/blob/97b42a16d9f3fb32069eb2c19e05d7b80e250c3c/configs/shiden.yml#L25",children:"configs file"})," Alice holds 100000KSM"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"1",src:n(73554).Z+"",width:"2096",height:"348"})}),"\n",(0,t.jsxs)(s.p,{children:["Let's transfer some ",(0,t.jsx)(s.strong,{children:"KSM"})," from Kusama to Shiden using Alice."]}),"\n",(0,t.jsxs)(s.p,{children:["This will be an example of VMP protocol usage or DMP to be more specific. We will make use of the ",(0,t.jsx)(s.code,{children:"reserve_transfer_asset"})," functionality. This consists of moving assets from one blockchain to another blockchain via an intermediary ",(0,t.jsx)(s.em,{children:"Sovereign"})," account. In the process, origin chain assets won\u2019t be destroyed, instead, the ",(0,t.jsx)(s.em,{children:"Sovereign"})," will hold them, while the target chain mints wrapped versions, and deposits them to the target address."]}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.em,{children:"Sovereign"})," account ensures that the same assets cannot be used simultaneously on both chains. It also guarantees that the wrapped assets are interchangeable with the assets on the origin chain."]}),"\n",(0,t.jsxs)(s.p,{children:["Alice wants to send some tokens to herself on Shiden Network, so she prepares a ",(0,t.jsx)(s.code,{children:"reserve_transfer_asset"})," call on the Relay Chain. The parameters look like this:"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"XCM message to send KSM from Kusama to Shiden via reserveAssetTransfer",src:n(74226).Z+"",width:"2746",height:"2340"})}),"\n",(0,t.jsx)(s.p,{children:"We should specify:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Destination","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Using the MultiLocation notation, we describe the target chain, which is Shiden, as ",(0,t.jsx)(s.code,{children:"/Parachain(2007)"}),". The notation resembles filesystem paths where the Relay Chain is considered to be root."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Beneficiary","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Once again using the ",(0,t.jsx)(s.em,{children:"MultiLocation"})," notation, we describe the beneficiary of the asset transfer. Take note that this is the context of the destination chain. We\u2019re transferring to Alice whose address is ",(0,t.jsx)(s.code,{children:"ajYMsCKsEAhEvHpeA4XqsfiA9v1CdzZPrCfS6pEfeGHW9j8"})," on Shiden. But instead of specifying the Shiden address, we\u2019ll specify the account ID (or public key) associated with this address: ",(0,t.jsx)(s.code,{children:"0xd43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Assets being transferred","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Finally, we describe the assets being transferred. Since we\u2019re transferring native Relay Chain assets, we specify these are ",(0,t.jsx)(s.strong,{children:"Concrete assets"})," and their location is ",(0,t.jsx)(s.strong,{children:"Here"})," in the context of the Relay Chain. The asset is fungible, therefore we need to specify the amount being transferred, in this case, a total of ",(0,t.jsx)(s.strong,{children:"1000000000"})," tokens."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"After initiating the transfer, we can observe what happens on the Relay Chain:"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Execution of an XCM message was attempted and funds were transferred from Alice to the Sovereign account.",src:n(55656).Z+"",width:"992",height:"668"})}),"\n",(0,t.jsx)(s.p,{children:"Execution of an XCM message was attempted and funds were transferred from Alice to the Sovereign account."}),"\n",(0,t.jsx)(s.p,{children:"On the Shiden side, we can observe the following:"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"4",src:n(32323).Z+"",width:"997",height:"1195"})}),"\n",(0,t.jsxs)(s.p,{children:["XCM message has been received and instructions executed. As a result, an asset with Id ",(0,t.jsx)(s.code,{children:"340282366920938463463374607431768211455"})," has been minted, a total of ",(0,t.jsx)(s.strong,{children:"996000000"})," tokens. These tokens have been deposited into the designation account."]}),"\n",(0,t.jsxs)(s.p,{children:["Note that that received amount is less than what was originally sent. This is because ",(0,t.jsx)(s.strong,{children:"4000000"})," has been used to pay the transaction fee on the destination chain."]}),"\n",(0,t.jsxs)(s.p,{children:["We\u2019ve successfully transferred ",(0,t.jsx)(s.strong,{children:"KSM"})," assets from Kusama over to Shiden!"]})]})}function l(e={}){const{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},73554:(e,s,n)=>{n.d(s,{Z:()=>t});const t=n.p+"assets/images/1-8da5d9e4ff315f469547f5996fbf1d16.png"},74226:(e,s,n)=>{n.d(s,{Z:()=>t});const t=n.p+"assets/images/2-05a1709c44e87df9c5156c0136f55f60.png"},55656:(e,s,n)=>{n.d(s,{Z:()=>t});const t=n.p+"assets/images/3-0339bae29bbcc6d10bf199b4459e6167.png"},32323:(e,s,n)=>{n.d(s,{Z:()=>t});const t=n.p+"assets/images/4-e429b5f311e21832c26d68b12f526d1f.png"},11151:(e,s,n)=>{n.d(s,{Z:()=>o,a:()=>r});var t=n(67294);const i={},a=t.createContext(i);function r(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);